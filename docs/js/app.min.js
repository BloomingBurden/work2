(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=document.querySelector(".header__burger"),t=document.querySelector(".header"),s=document.querySelector(".nav__close");e.addEventListener("click",(()=>{t.classList.add("header--opened")})),s.addEventListener("click",(()=>{t.classList.remove("header--opened")}))})(),document.body.classList.contains("bottles-body")&&document.querySelector(".bottles").addEventListener("click",(e=>{const t=e.target;if(t.closest("[data-wine-src]")){if(!t.dataset.wineSrc)return;if(t.closest(".bottles__color")&&(t.closest(".bottles__color").querySelectorAll(".bottles__btn-color").forEach((e=>e.classList.remove("bottles__btn-color--current"))),t.closest(".bottles__btn-color").classList.add("bottles__btn-color--current")),t.closest(".bottles__wines")){const e=t.closest(".bottles__wines").querySelectorAll(".bottles__elem"),s=t.closest(".bottles__elem").querySelector(".bottles__wine").textContent;if(t.closest(".bottles__header").querySelector(".bottles__btn--black").classList.contains("bottles__btn-color--current"))return;t.closest(".bottles__wines").querySelector(".bottles__btn-wine").textContent=`${s} wine`,e.forEach((e=>e.classList.remove("bottles__elem--current"))),t.closest(".bottles__elem").classList.add("bottles__elem--current")}const e=t.closest(".bottles__header").querySelector(".bottles__img > picture");e.children[0].setAttribute("srcset",`${t.dataset.wineSrc}.webp`),e.children[1].setAttribute("src",`${t.dataset.wineSrc}.png`)}})),document.body.classList.contains("contacts-body")&&(()=>{const e=document.querySelectorAll(".contacts__item > input"),t=document.querySelector(".contacts__send");e.forEach((e=>e.addEventListener("input",(()=>{e.value.length>0?t.classList.add("contacts__send--full"):t.classList.remove("contacts__send--full")}))))})();const e=document.querySelectorAll("[data-move-effects]"),t=(e,n,i)=>{const o=["DIV","P","H1","H2","H3","H4","LI","BUTTON","A"];if(0===e.children.length)if(o.includes(e.tagName)){const t=window.pageYOffset+e.getBoundingClientRect().top,o=window.pageYOffset+window.innerHeight;s(e,t,o,n,i)}else if(o.includes(e.parentElement.tagName)){const t=window.pageYOffset+e.parentElement.getBoundingClientRect().top,o=window.pageYOffset+window.innerHeight;s(e.parentElement,t,o,n,i)}for(let s of e.children)t(s,n,i)},s=(e,t,s,n,i)=>{s>=t&&(e.classList.remove(i),e.classList.add(n)),s<=t-100&&(e.classList.remove(n),e.classList.add(i))},n=((e,t=300)=>{let s=!1;return(...n)=>{!0!==s&&(s=!0,e(...n),setTimeout((()=>s=!1),t))}})((n=>{e.forEach((e=>{const n=window.pageYOffset+e.getBoundingClientRect().top,i=window.pageYOffset+window.innerHeight,o=e.dataset.moveEffects.split(","),c=!!o[2]&&o[2].trim(),l=o[0].trim(),r=o[1].trim();"true"===c?t(e,l,r):s(e,n,i,l,r)}))}),50);window.addEventListener("scroll",n),new class{constructor({element:e=window,strength:t=13,acceleration:s=1.2,deceleration:n=.975}={}){this.element=e,this.distance=t,this.acceleration=s,this.deceleration=n,this.running=!1,this.maxScroll=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),this.element.addEventListener("wheel",this.scrollHandler.bind(this),{passive:!1}),this.element.addEventListener("mousewheel",this.scrollHandler.bind(this),{passive:!1}),this.scroll=this.scroll.bind(this)}scrollHandler(e){e.preventDefault(),this.running?(this.isDistanceAsc=!1,this.currentDistance=e.deltaY>0?this.distance:-this.distance):(this.top=this.element.pageYOffset||this.element.scrollTop||0,this.running=!0,this.currentDistance=e.deltaY>0?.1:-.1,this.isDistanceAsc=!0,this.scroll())}scroll(){this.running&&(this.currentDistance*=!0===this.isDistanceAsc?this.acceleration:this.deceleration,!(Math.abs(this.currentDistance)<.1&&!1===this.isDistanceAsc)||(this.running=!1),!(Math.abs(this.currentDistance)>=Math.abs(this.distance))||(this.isDistanceAsc=!1),this.top+window.innerHeight>this.maxScroll?this.top=this.maxScroll-window.innerHeight:this.top<0?this.top=0:this.top+=this.currentDistance,this.element.scrollTo(0,this.top),requestAnimationFrame(this.scroll))}},window.addEventListener("load",(()=>{document.body.classList.contains("index-body")&&new Swiper(".swiper",{breakpoints:{320:{slidesPerView:1.25,spaceBetween:20},820:{slidesPerView:"auto"}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))})();