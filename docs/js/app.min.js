(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{const e=document.querySelector(".header__burger"),t=document.querySelector(".header"),s=document.querySelector(".nav__close");e.addEventListener("click",(()=>{t.classList.add("header--opened")})),s.addEventListener("click",(()=>{t.classList.remove("header--opened")}))})(),document.body.classList.contains("bottles-body")&&document.querySelector(".bottles").addEventListener("click",(e=>{const t=e.target;if(t.closest("[data-wine-src]")){if(!t.dataset.wineSrc)return;if(t.closest(".bottles__color")&&(t.closest(".bottles__color").querySelectorAll(".bottles__btn-color").forEach((e=>e.classList.remove("bottles__btn-color--current"))),t.closest(".bottles__btn-color").classList.add("bottles__btn-color--current")),t.closest(".bottles__wines")){const e=t.closest(".bottles__wines").querySelectorAll(".bottles__elem"),s=t.closest(".bottles__elem").querySelector(".bottles__wine").textContent;if(t.closest(".bottles__header").querySelector(".bottles__btn--black").classList.contains("bottles__btn-color--current"))return;t.closest(".bottles__wines").querySelector(".bottles__btn-wine").textContent=`${s} wine`,e.forEach((e=>e.classList.remove("bottles__elem--current"))),t.closest(".bottles__elem").classList.add("bottles__elem--current")}const e=t.closest(".bottles__header").querySelector(".bottles__img > picture");e.children[0].setAttribute("srcset",`${t.dataset.wineSrc}.webp`),e.children[1].setAttribute("src",`${t.dataset.wineSrc}.png`)}})),document.body.classList.contains("contacts-body")&&(()=>{const e=document.querySelectorAll(".contacts__item > input"),t=document.querySelector(".contacts__send");e.forEach((e=>e.addEventListener("input",(()=>{e.value.length>0?t.classList.add("contacts__send--full"):t.classList.remove("contacts__send--full")}))))})();const e=document.querySelectorAll("[data-move-effects]"),t=(e,o,n)=>{const l=["DIV","P","H1","H2","H3","H4","LI","BUTTON","A"];if(0===e.children.length)if(l.includes(e.tagName)){const t=window.pageYOffset+e.getBoundingClientRect().top,l=window.pageYOffset+window.innerHeight;s(e,t,l,o,n)}else if(l.includes(e.parentElement.tagName)){const t=window.pageYOffset+e.parentElement.getBoundingClientRect().top,l=window.pageYOffset+window.innerHeight;s(e.parentElement,t,l,o,n)}for(let s of e.children)t(s,o,n)},s=(e,t,s,o,n)=>{s>=t&&(e.classList.remove(n),e.classList.add(o)),s<=t-100&&(e.classList.remove(o),e.classList.add(n))},o=((e,t=300)=>{let s=!1;return(...o)=>{!0!==s&&(s=!0,e(...o),setTimeout((()=>s=!1),t))}})((o=>{e.forEach((e=>{const o=window.pageYOffset+e.getBoundingClientRect().top,n=window.pageYOffset+window.innerHeight,l=e.dataset.moveEffects.split(","),c=!!l[2]&&l[2].trim(),r=l[0].trim(),i=l[1].trim();"true"===c?t(e,r,i):s(e,o,n,r,i)}))}),50);window.addEventListener("scroll",o),window.addEventListener("wheel",(function(e){var t=window.pageYOffset+170*(e.deltaY>0?1:-1);window.scrollTo({top:t,behavior:"smooth"}),e.preventDefault()})),window.addEventListener("load",(()=>{document.body.classList.contains("index-body")&&new Swiper(".swiper",{breakpoints:{320:{slidesPerView:1.25,spaceBetween:20},820:{slidesPerView:"auto"}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))})();